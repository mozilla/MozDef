---
version: '2.2'
services:
  elasticsearch:
    build:
      context: ../../
      dockerfile: docker/compose/elasticsearch/Dockerfile
    restart: always
    command: bin/elasticsearch -Enetwork.host=0.0.0.0
    volumes:
      - elasticsearch:/var/lib/elasticsearch
    ports:
      - 9200:9200
    networks:
      - default
  rabbitmq:
    build:
      context: ../../
      dockerfile: docker/compose/rabbitmq/Dockerfile
    restart: always
    command: rabbitmq-server
    volumes:
      - rabbitmq:/var/lib/rabbitmq
    ports:
      - 5672:5672
    networks:
      - default

networks:
  default:

volumes:
  elasticsearch:
  rabbitmq: